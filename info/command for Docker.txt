COMANDI PER DOCKERIZZARE UNA WebApp Flask che usa MongoDB

NB : nel file di configurazione della applicazione sostituire a localhost il nome del container relativo alla immagine di MongoDB

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
usando una rete comune ai 2 container : configurazione funzionante, da preferire

#build image : 1
(.venv) PS C:\...\Prometheus_Query_Microservice > docker build -t prometheus_query_microservice:1.0 .

#list images
(.venv) PS C:\...\Prometheus_Query_Microservice > docker images

#create network : 2
(.venv) PS C:\...\Prometheus_Query_Microservice > docker network create my-network	
(.venv) PS C:\TESI\Progetti\GIT\Prometheus_Query_Microservice> docker network ls   					//per vedere tutte le reti
#(.venv) PS C:\TESI\Progetti\GIT\Prometheus_Query_Microservice> docker network rm my-network		//per rimuoverla

# avvio di MongoDB su un container in rete : 3
(.venv) PS C:\...\Prometheus_Query_Microservice > docker pull mongo
(.venv) PS C:\...\Prometheus_Query_Microservice > docker images
																				
(.venv) PS C:\...\Prometheus_Query_Microservice > docker container run -d -v "C:\TESI\Progetti\GIT\Prometheus_Query_Microservice\MongoDockerData\data\db:/usr/share/data" --name mongo_container -p 27017:27017 --network my-network mongo

# run container with name 'prometheus_microservice_container' : 4
(.venv) PS C:\...\Prometheus_Query_Microservice > docker run -d -p 5000:5000 --name prometheus_microservice_container --network my-network prometheus_query_microservice:1.0


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
non usando la rete : configurazione non funzionante

#build image : 1
(.venv) PS C:\...\Prometheus_Query_Microservice > docker build -t prometheus_query_microservice:1.0 .

#list images
(.venv) PS C:\...\Prometheus_Query_Microservice > docker images

# avvio di MongoDB su un container in rete : 2
(.venv) PS C:\...\Prometheus_Query_Microservice > docker pull mongo
(.venv) PS C:\...\Prometheus_Query_Microservice > docker images

(.venv) PS C:\...\Prometheus_Query_Microservice > docker container run -d -v MongoDockerData\data\db --name mongo_container -p 27017:27017 mongo

# run container with name 'prometheus_microservice_container' : 3
(.venv) PS C:\...\Prometheus_Query_Microservice > docker run -d -p 5000:5000 --name prometheus_microservice_container prometheus_query_microservice:1.0


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
usando docker-compose.yml : configurazione funzionante e preferibile, ma non posso montare un volume

(.venv) PS C:\...\Prometheus_Query_Microservice > docker-compose build
(.venv) PS C:\...\Prometheus_Query_Microservice > docker-compose up


